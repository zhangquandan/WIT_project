{"version":3,"sources":["webpack:///./src/views/DMA.vue?c87b","webpack:///./src/components/Un.vue?d328","webpack:///src/components/Un.vue","webpack:///./src/components/Un.vue?86e2","webpack:///./src/components/Un.vue","webpack:///src/views/DMA.vue","webpack:///./src/views/DMA.vue?37ab","webpack:///./src/views/DMA.vue","webpack:///./src/views/DMA.vue?54e3","webpack:///./src/components/Un.vue?46a2"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","$store","state","init","expression","ref","attrs","data","dmaLbViewData","icon","ViewData","dmaLabel","staticStyle","on","test","sc","indicator","ztLabel","staticRenderFns","style","backgroundImage","isSc","bgurl","paddingTop","top","lengthBottom","_l","item","_v","_s","component"],"mappings":"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","file":"assets/js/chunk-26589a74.03e620b3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"lt\"},[_c('Comp',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.$store.state.init.dmaltView),expression:\"$store.state.init.dmaltView\"}],ref:\"comp\",attrs:{\"type\":\"dma\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(15,21,47,0)\",\"element-loading-text\":\"拼命加载中\",\"Cstyle\":\"20%\",\"val\":_vm.$store.state.data.dmaLbViewData,\"icon\":_vm.icon[3],\"title\":\"DMA综合漏损指数\"}})],1),_c('div',{staticClass:\"lb\"},[_c('lbView',{attrs:{\"valRight\":\"10px\",\"fontStyle\":\"right\",\"titleRight\":\"15px\",\"space\":15,\"right\":\"10px\",\"val\":_vm.$store.state.data.ViewData,\"label\":_vm.dmaLabel,\"labellength\":6,\"valLenght\":8,\"icon\":_vm.icon[0],\"title\":\"DMA关键漏损指标\"}})],1)]),_c('div',{staticClass:\"mid\"},[_c('div',{ref:\"mt\",staticClass:\"mt\"},[_c('UnView',{ref:\"dmaMap\"}),_c('div',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"113px\",\"right\":\"100px\",\"cursor\":\"pointer\"},on:{\"click\":_vm.test}},[_c('img',{staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":require(\"../static/images/qp.png\")}})])],1),_c('div',{staticClass:\"mb\"},[_c('cbView',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.$store.state.init.cbView),expression:\"$store.state.init.cbView\"}],ref:\"cbView\",attrs:{\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(15,21,47,0)\",\"element-loading-text\":\"拼命加载中\"}})],1)]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"rt\"},[_c('rtView',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"val\":_vm.$store.state.data.sc,\"icon\":_vm.icon[1],\"title\":\"学校基本信息\"}})],1),_c('div',{staticClass:\"rb\"},[_c('lbView',{attrs:{\"fristTitleLeft\":\"10px\",\"fontStyle\":\"left\",\"top\":\"60px\",\"left\":\"30px\",\"space\":50,\"val\":_vm.$store.state.data.indicator,\"label\":_vm.ztLabel,\"labellength\":8,\"valLenght\":5,\"icon\":_vm.icon[2],\"title\":\"总体用水指标\"}})],1)]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isSc),expression:\"isSc\"}],staticStyle:{\"width\":\"200vw\",\"height\":\"100%\",\"background-color\":\"#0F152F\",\"position\":\"absolute\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"UNs\"}},[_c('div',{staticClass:\"chat_content\"},[_c('div',{ref:\"tt\",staticClass:\"bg\",style:({backgroundImage: 'url(' + (_vm.isSc ? '' : _vm.bgurl) + ')',paddingTop:_vm.top+'px'})},[_c('div',{style:({'left':(_vm.isSc ? '504px' : '288px'),'bottom':(_vm.isSc ? _vm.lengthBottom : '168px')}),attrs:{\"id\":\"title\"}},_vm._l((_vm.$store.state.data.skData),function(item){return _c('div',{staticClass:\"i\"},[_vm._v(_vm._s(item))])}),0),_c('div',{ref:\"chart4\",style:({'left':(_vm.isSc ? '245px' : '12px'),'top':(_vm.isSc ? '70px' : '30px')}),attrs:{\"id\":\"legend\"}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"UNs\">\r\n        <div class=\"chat_content\">\r\n            <!-- <div style=\"position: absolute;right: 0px;bottom: 60px;  color: #F0F8FF; cursor: pointer;\">\r\n                <img style=\"width: 20px;height: 20px;\" src=\"../static/images/qp.png\" @click=\"screen\"></img>\r\n            </div> -->\r\n            <div :style=\"{backgroundImage: 'url(' + (isSc ? '' : bgurl) + ')',paddingTop:top+'px'}\" class=\"bg\" ref=\"tt\">\r\n                <!-- \t<div id=\"un\" ref=\"chart2\"></div>\r\n                    <div id=\"un2\" ref=\"chart3\"></div> -->\r\n\r\n                <div :style=\"{'left':(isSc ? '504px' : '288px'),'bottom':(isSc ? lengthBottom : '168px')}\" id=\"title\">\r\n                    <div v-for=\"item in $store.state.data.skData\" class=\"i\">{{item}}</div>\r\n                </div>\r\n                <div :style=\"{'left':(isSc ? '245px' : '12px'),'top':(isSc ? '70px' : '30px')}\" id=\"legend\"\r\n                     ref=\"chart4\">\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <!-- <div id=\"legend\" ref=\"chart4\"></div> -->\r\n\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import data from '../static/mock/wuchang_dma.json';\r\n    import data2 from '../static/mock/liufang_dma.json';\r\n\r\n    export default {\r\n        name: 'Un',\r\n        data() {\r\n            return {\r\n                isSc: false,\r\n                fullscreen: false,\r\n                scale: {\r\n                    chart1: 0.95,\r\n                    chart2: 0.9,\r\n                },\r\n                bgurl: \"/img/starry.64a631ca.png\",\r\n                top: 0,\r\n                cantop: 40,\r\n                //chart1: \"\",\r\n                canLeft: \"1100px\",\r\n                visLeft: 50,\r\n                visBottom: 25,\r\n                left: \"140\",\r\n                lengthBottom: \"155px\"\r\n            }\r\n        },\r\n\r\n        methods: {\r\n\r\n            tranData: function (arr) {\r\n                try {\r\n                    var data = []\r\n                    for (var item of arr) {\r\n                        var val = []\r\n                        //console.log(arr)\r\n                        val.push(item.addMin.toFixed(1))\r\n                        val.push(parseFloat(item.addRangeMin.split(\"%\")[0]).toFixed(1) + \"%\")\r\n                        val.push(parseFloat(item.addRangeTotal.split(\"%\")[0]).toFixed(1) + \"%\")\r\n                        val.push(item.addTotal.toFixed(1))\r\n                        val.push(item.min.toFixed(1))\r\n                        val.push(item.total.toFixed(1))\r\n                        val.push(item.leakageIndex.toFixed(1))\r\n                        data.push({\r\n                            name: item.name,\r\n                            value: val,\r\n                            itemStyle: item.itemStyle\r\n                        })\r\n                    }\r\n                    return data\r\n                } catch {\r\n                }\r\n            },\r\n\r\n            setData: function () {\r\n                //console.log(this.$data.chart1.setOption)\r\n                var that = this\r\n                var dom3 = this.$refs.chart4;\r\n                var myChart3 = this.echarts.init(dom3);\r\n                myChart3.setOption({\r\n                    series: [{\r\n                        data: that.tranData(that.$store.state.data.qyMapData),\r\n                    }, {\r\n                        data: that.tranData(that.$store.state.data.qyMapData),\r\n                    }]\r\n                })\r\n                that.initCharts()\r\n            },\r\n            initCharts() {\r\n                // var dom = this.$refs.chart2;\r\n                // var dom2 = this.$refs.chart3;\r\n                var dom3 = this.$refs.chart4;\r\n                // var myChart = this.echarts.init(dom);\r\n                // var myChart2 = this.echarts.init(dom2);\r\n                var myChart3 = this.echarts.init(dom3);\r\n                var arr = this.$store.state.data.skData\r\n                var that = this;\r\n                var uploadedDataURL = './static/mock/wuchang_dma.json';\r\n                var uploadedDataURL2 = './static/mock/liufang_dma.json';\r\n\r\n                function showProvince() {\r\n                    var name1 = 'wuchang';\r\n                    var name = 'liufang';\r\n                    // myChart.showLoading();\r\n                    // myChart.hideLoading();\r\n                    var colors = ['#226E4B', '#34A471', '#9ADFBF', '#BBEAD5', '#DDF4EA', '#FFFFFF', '#FDD1C5', '#FCA290',\r\n                        '#FD8376', '#FB5934', '#F81F02', '#CB1B03', '#961301', '#7A3129', '#000000']\r\n                    that.echarts.registerMap(name1, data);\r\n                    that.echarts.registerMap(name, data2);\r\n                    var option = {\r\n                        //backgroundColor: 'rgba(8,24,66,.5)',\r\n                        title: {\r\n                            text: '',\r\n\r\n                            left: 'center',\r\n                            textStyle: {\r\n                                color: '#ffffff'\r\n                            }\r\n                        },\r\n                        visualMap: {\r\n                            bottom: that.$data.visBottom,\r\n                            left: that.$data.visLeft,\r\n                            right: 10,\r\n                            show: true,\r\n                            orient: 'horizontal',\r\n                            itemGap: 2,\r\n                            itemHeight: 16,\r\n                            itemWidth: 110,\r\n                            itemSymbol: 'rect',\r\n                            borderWidth: 1,\r\n                            showLabel: false,\r\n                            align: \"auto\",\r\n                            // target: {\r\n                            // \tinRange: {\r\n                            // \t\tsymbolSize: [60, 200]\r\n                            // \t}\r\n                            // },\r\n                            // controller: {\r\n                            // \tinRange: {\r\n                            // \t\tcolor: ['#121122', 'rgba(3,4,5,0.4)', 'red'],\r\n                            // \t\tsymbolSize: [30, 100]\r\n                            // \t}\r\n                            // },\r\n                            padding: [1, 1, 1, 1],\r\n                            backgroundColor: \"#FFFFFF\",\r\n                            textStyle: {\r\n                                color: '#000',\r\n                                fontSize: 7,\r\n                                lineHeight: '12px',\r\n                            },\r\n\r\n                            pieces: [{\r\n                                lte: arr[0],\r\n                                color: colors[0]\r\n                            },\r\n                                {\r\n                                    gt: arr[0],\r\n                                    lte: arr[1],\r\n                                    color: colors[1]\r\n                                },\r\n                                {\r\n                                    gt: arr[1],\r\n                                    lte: arr[2],\r\n                                    color: colors[2]\r\n                                },\r\n                                {\r\n                                    gt: arr[2],\r\n                                    lte: arr[3],\r\n                                    color: colors[3]\r\n                                },\r\n                                {\r\n                                    gt: arr[3],\r\n                                    lte: arr[4],\r\n                                    color: colors[4]\r\n                                },\r\n                                {\r\n                                    gt: arr[4],\r\n                                    lte: arr[5],\r\n                                    color: colors[5]\r\n                                },\r\n                                {\r\n                                    gt: arr[5],\r\n                                    lte: arr[6],\r\n                                    color: colors[6]\r\n                                },\r\n                                {\r\n                                    gt: arr[6],\r\n                                    lte: arr[7],\r\n                                    color: colors[7]\r\n                                },\r\n                                {\r\n                                    gt: arr[7],\r\n                                    lte: arr[8],\r\n                                    color: colors[8]\r\n                                },\r\n                                {\r\n                                    gt: arr[8],\r\n                                    lte: arr[9],\r\n                                    color: colors[9]\r\n                                },\r\n                                {\r\n                                    gt: arr[9],\r\n                                    lte: arr[10],\r\n                                    color: colors[10]\r\n                                },\r\n                                {\r\n                                    gt: arr[10],\r\n                                    lte: arr[11],\r\n                                    color: colors[11]\r\n                                },\r\n                                {\r\n                                    gt: arr[11],\r\n                                    lte: arr[12],\r\n                                    color: colors[12]\r\n                                },\r\n                                {\r\n                                    gt: arr[12],\r\n                                    lte: arr[13],\r\n                                    color: colors[13]\r\n                                },\r\n                                {\r\n                                    gt: arr[13],\r\n                                    lte: arr[14],\r\n                                    color: colors[14]\r\n                                },\r\n\r\n\r\n                            ],\r\n                            outOfRange: {\r\n                                color: '#999'\r\n                            }\r\n                        },\r\n                        tooltip: {\r\n                            trigger: 'item',\r\n                            backgroundColor: 'rgba(0,0,250,0.2)',\r\n                            formatter: function (params) {\r\n                                if (params.data) {\r\n                                    return (\r\n                                        '<div class=\"tooltip\">' +\r\n                                        '<div style=\"text-align:center\">' + params.name + '</div>' +\r\n                                        '当日水量：' + params.data.value[5] + '</br>' +\r\n                                        '日量隔周增量：' + params.data.value[3] + '</br>' +\r\n                                        '日量隔周增幅：' + params.data.value[2] + '</br>' +\r\n                                        '最小流量隔周增量：' + params.data.value[0] + '</br>' +\r\n                                        '最小流量隔周增幅：' + params.data.value[1] + '</br>' +\r\n                                        '综合漏损指数：' + params.data.value[6] + '</br>' +\r\n                                        '</div>'\r\n                                    )\r\n                                } else {\r\n                                    return (\r\n                                        '<div class=\"tooltip\">' +\r\n                                        '<div style=\"text-align:center\">' + params.name + '</div>' +\r\n                                        '暂无数据' +\r\n                                        '</div>'\r\n                                    )\r\n                                }\r\n\r\n                            },\r\n                        },\r\n                        series: [{\r\n                            type: 'map',\r\n                            mapType: name1,\r\n                            left: that.$data.left,\r\n                            top: that.$data.cantop,\r\n                            zoom: that.$data.scale.chart2,\r\n                            label: {\r\n                                normal: {\r\n                                    show: true,\r\n                                    textStyle: {\r\n                                        color: '#51b5df',\r\n                                        fontSize: 20,\r\n                                        position: ['50%', '50%']\r\n                                    }\r\n                                },\r\n                                emphasis: {\r\n                                    textStyle: {\r\n                                        color: '#51b5df',\r\n                                        fontSize: 20\r\n                                    }\r\n                                },\r\n                                position: 'inside'\r\n                            },\r\n                            itemStyle: {\r\n                                normal: {\r\n                                    //borderColor: '#5bd1f9',\r\n                                    borderWidth: '0.8',\r\n                                    shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                                    shadowBlur: 10,\r\n                                    //areaColor: '#01176a'\r\n                                },\r\n                                emphasis: {\r\n                                    areaColor: '#a50026',\r\n                                    borderWidth: 1,\r\n                                    fontSize: 20,\r\n                                    borderColor: '#5ecef4',\r\n                                }\r\n                            },\r\n                            animation: true,\r\n                            data: that.tranData(that.$store.state.data.qyMapData),\r\n                            // animationDurationUpdate: 1000,\r\n                            // animationEasingUpdate: 'quinticInOut'\r\n                        }, {\r\n                            type: 'map',\r\n                            mapType: name,\r\n                            left: that.$data.canLeft,\r\n                            zoom: that.$data.scale.chart2,\r\n                            top: that.$data.cantop,\r\n                            label: {\r\n                                normal: {\r\n                                    show: true,\r\n                                    textStyle: {\r\n                                        color: '#51b5df',\r\n                                        fontSize: 20,\r\n                                    }\r\n                                },\r\n                                emphasis: {\r\n                                    textStyle: {\r\n                                        color: '#51b5df',\r\n                                        fontSize: 20,\r\n                                    }\r\n                                }\r\n                            },\r\n                            itemStyle: {\r\n                                normal: {\r\n                                    //borderColor: '#5bd1f9',\r\n                                    borderWidth: '0.8',\r\n                                    shadowColor: 'rgba(0, 0, 0, 0.5)',\r\n                                    shadowBlur: 10\r\n                                    //areaColor: '#01176a'\r\n                                },\r\n                                emphasis: {\r\n                                    areaColor: '#0628a6',\r\n                                    borderWidth: 1,\r\n                                    borderColor: '#5ecef4',\r\n                                }\r\n                            },\r\n                            animation: true,\r\n                            data: that.tranData(that.$store.state.data.qyMapData),\r\n                            // animationDurationUpdate: 1000,\r\n                            // animationEasingUpdate: 'quinticInOut'\r\n                        }]\r\n                    };\r\n                    myChart3.setOption(option);\r\n                }\r\n\r\n                showProvince();\r\n            },\r\n\r\n            // screen: function() {\r\n            // \tlet element = this.$refs.tt; //设置后就是   id==con_lf_top_div 的容器全屏\r\n            // \tif (this.$data.fullscreen) {\r\n            // \t\tif (document.exitFullscreen) {\r\n            // \t\t\tdocument.exitFullscreen();\r\n            // \t\t} else if (document.webkitCancelFullScreen) {\r\n            // \t\t\tdocument.webkitCancelFullScreen();\r\n            // \t\t} else if (document.mozCancelFullScreen) {\r\n            // \t\t\tdocument.mozCancelFullScreen();\r\n            // \t\t} else if (document.msExitFullscreen) {\r\n            // \t\t\tdocument.msExitFullscreen();\r\n            // \t\t}\r\n            // \t} else {\r\n            // \t\tif (element.requestFullscreen) {\r\n            // \t\t\tthis.$data.isSc = true\r\n            // \t\t\tthis.$data.fullscreen = false;\r\n            // \t\t\tvar dom = this.$refs.chart4\r\n            // \t\t\tvar dom1 = this.$refs.chart2;\r\n            // \t\t\tvar dom2 = this.$refs.chart3;\r\n            // \t\t\tdom.style.width = \"1060px\"\r\n            // \t\t\tdom.style.height = '650px'\r\n            // \t\t\tdom1.style.width = \"600px\"\r\n            // \t\t\tdom1.style.height = \"580px\"\r\n            // \t\t\tdom2.style.width = \"600px\"\r\n            // \t\t\tdom2.style.height = \"580px\"\r\n            // \t\t\tthis.$data.scale.chart2 = 0.9\r\n            // \t\t\tthis.$data.top = 100\r\n            // \t\t\tthis.$data.canLeft = \"600px\"\r\n            // \t\t\tthis.$data.left = \"0\"\r\n            // \t\t\tthis.$data.cantop = 60\r\n            // \t\t\tthis.$data.visBottom = 0\r\n            // \t\t\tthis.$data.visLeft = 240\r\n\r\n            // \t\t\tvar myChart = this.echarts.init(dom);\r\n            // \t\t\tthis.initCharts();\r\n            // \t\t\tmyChart.resize()\r\n            // \t\t\telement.requestFullscreen();\r\n            // \t\t} else if (element.webkitRequestFullScreen) {\r\n            // \t\t\tthis.$data.isSc = true\r\n            // \t\t\tthis.$data.fullscreen = false;\r\n            // \t\t\tthis.$data.lengthBottom = \"120px\"\r\n            // \t\t\tvar dom = this.$refs.chart4\r\n            // \t\t\tvar dom1 = this.$refs.chart2;\r\n            // \t\t\tvar dom2 = this.$refs.chart3;\r\n            // \t\t\tdom.style.width = \"1060px\"\r\n            // \t\t\tdom.style.height = '650px'\r\n            // \t\t\tdom1.style.width = \"600px\"\r\n            // \t\t\tdom1.style.height = \"580px\"\r\n            // \t\t\tdom2.style.width = \"600px\"\r\n            // \t\t\tdom2.style.height = \"580px\"\r\n            // \t\t\tthis.$data.scale.chart2 = 0.9\r\n            // \t\t\tthis.$data.top = 100\r\n            // \t\t\tthis.$data.canLeft = \"600px\"\r\n            // \t\t\tthis.$data.left = \"0\"\r\n            // \t\t\tthis.$data.cantop = 60\r\n            // \t\t\tthis.$data.visBottom = 0\r\n            // \t\t\tthis.$data.visLeft = 240\r\n            // \t\t\telement.style.backgroundColor = \"#000\"\r\n            // \t\t\tvar myChart = this.echarts.init(dom);\r\n            // \t\t\tthis.initCharts();\r\n            // \t\t\tmyChart.resize()\r\n            // \t\t\telement.webkitRequestFullScreen();\r\n            // \t\t} else if (element.mozRequestFullScreen) {\r\n            // \t\t\tthis.$data.isSc = true\r\n            // \t\t\tthis.$data.fullscreen = false;\r\n            // \t\t\tvar dom = this.$refs.chart4\r\n            // \t\t\tvar dom1 = this.$refs.chart2;\r\n            // \t\t\tvar dom2 = this.$refs.chart3;\r\n            // \t\t\tdom.style.width = \"1060px\"\r\n            // \t\t\tdom.style.height = '650px'\r\n            // \t\t\tdom1.style.width = \"600px\"\r\n            // \t\t\tdom1.style.height = \"580px\"\r\n            // \t\t\tdom2.style.width = \"600px\"\r\n            // \t\t\tdom2.style.height = \"580px\"\r\n            // \t\t\tthis.$data.scale.chart2 = 0.9\r\n            // \t\t\tthis.$data.top = 100\r\n            // \t\t\tthis.$data.canLeft = \"600px\"\r\n            // \t\t\tthis.$data.left = \"0\"\r\n            // \t\t\tthis.$data.cantop = 60\r\n            // \t\t\tthis.$data.visBottom = 0\r\n            // \t\t\tthis.$data.visLeft = 240\r\n\r\n            // \t\t\tvar myChart = this.echarts.init(dom);\r\n            // \t\t\tthis.initCharts();\r\n            // \t\t\tmyChart.resize()\r\n            // \t\t\telement.mozRequestFullScreen();\r\n            // \t\t} else if (element.msRequestFullscreen) {\r\n            // \t\t\t// IE11\r\n            // \t\t\tthis.$data.isSc = true\r\n            // \t\t\tthis.$data.fullscreen = false;\r\n            // \t\t\tvar dom = this.$refs.chart4\r\n            // \t\t\tvar dom1 = this.$refs.chart2;\r\n            // \t\t\tvar dom2 = this.$refs.chart3;\r\n            // \t\t\tdom.style.width = \"1060px\"\r\n            // \t\t\tdom.style.height = '650px'\r\n            // \t\t\tdom1.style.width = \"600px\"\r\n            // \t\t\tdom1.style.height = \"580px\"\r\n            // \t\t\tdom2.style.width = \"600px\"\r\n            // \t\t\tdom2.style.height = \"580px\"\r\n            // \t\t\tthis.$data.scale.chart2 = 0.9\r\n            // \t\t\tthis.$data.top = 100\r\n            // \t\t\tthis.$data.canLeft = \"600px\"\r\n            // \t\t\tthis.$data.left = \"0\"\r\n            // \t\t\tthis.$data.cantop = 60\r\n            // \t\t\tthis.$data.visBottom = 0\r\n            // \t\t\tthis.$data.visLeft = 240\r\n\r\n            // \t\t\tvar myChart = this.echarts.init(dom);\r\n            // \t\t\tthis.initCharts();\r\n            // \t\t\tmyChart.resize()\r\n            // \t\t\telement.msRequestFullscreen();\r\n            // \t\t}\r\n            // \t}\r\n            // },\r\n\r\n            getColor: function (val) {\r\n                var color\r\n                var arr = this.$store.state.data.skData\r\n                var colors = ['#07076A', '#000099', '#006699', '#009999', '#00CC00', '#CCFF33', '#FFCC00', '#ff6600',\r\n                    '#F48E16', '#FF6600', '#FF0000', '#CC0000', '#7D0022', '#4B0909', '#000000']\r\n                if (val <= arr[0]) {\r\n                    color = colors[0]\r\n                } else if (val > arr[1] && val <= arr[2]) {\r\n                    color = colors[1]\r\n                } else if (val > arr[2] && val <= arr[3]) {\r\n                    color = colors[2]\r\n                } else if (val > arr[3] && val <= arr[4]) {\r\n                    color = colors[3]\r\n                } else if (val > arr[4] && val <= arr[5]) {\r\n                    color = colors[4]\r\n                } else if (val > arr[5] && val <= arr[6]) {\r\n                    color = colors[5]\r\n                } else if (val > arr[6] && val <= arr[7]) {\r\n                    color = colors[6]\r\n                } else if (val > arr[7] && val <= arr[8]) {\r\n                    color = colors[7]\r\n                } else if (val > arr[8] && val <= arr[9]) {\r\n                    color = colors[8]\r\n                } else if (val > arr[9] && val <= arr[10]) {\r\n                    color = colors[9]\r\n                } else if (val > arr[10] && val <= arr[11]) {\r\n                    color = colors[10]\r\n                } else if (val > arr[11] && val <= arr[12]) {\r\n                    color = colors[11]\r\n                } else if (val > arr[12] && val <= arr[13]) {\r\n                    color = colors[12]\r\n                } else if (val > arr[13] && val <= arr[14]) {\r\n                    color = colors[13]\r\n                } else if (val > arr[14] && val <= arr[15]) {\r\n                    color = colors[14]\r\n                }\r\n                return color\r\n            },\r\n\r\n            // checkFull() {\r\n            // \t//判断浏览器是否处于全屏状态 （需要考虑兼容问题）\r\n            // \t//火狐浏览器\r\n            // \tvar isFull = document.mozFullScreen ||\r\n            // \t\tdocument.fullScreen ||\r\n            // \t\t//谷歌浏览器及Webkit内核浏览器\r\n            // \t\tdocument.webkitIsFullScreen ||\r\n            // \t\tdocument.webkitRequestFullScreen ||\r\n            // \t\tdocument.mozRequestFullScreen ||\r\n            // \t\tdocument.msFullscreenEnabled\r\n            // \tif (isFull === undefined) {\r\n            // \t\tisFull = false\r\n            // \t}\r\n            // \treturn isFull;\r\n            // },\r\n\r\n        },\r\n        mounted() {\r\n            this.initCharts();\r\n        }\r\n    };\r\n</script>\r\n\r\n<style>\r\n    #un {\r\n        width: 700px;\r\n        height: 680px;\r\n        display: inline-block;\r\n        background-image: url(../assets/texiao.png), url(../static/images/frame.png);\r\n        background-repeat: no-repeat;\r\n        background-size: 60%, 100% 100%;\r\n        background-position: 38px -0px, center;\r\n        margin-right: 145px;\r\n    }\r\n\r\n    #un2 {\r\n        width: 700px;\r\n        height: 680px;\r\n        display: inline-block;\r\n        background-image: url(../assets/texiao.png), url(../static/images/frame_2.png);\r\n        background-repeat: no-repeat;\r\n        background-size: 60%, 100% 100%;\r\n        background-position: 38px -0px, center;\r\n    }\r\n\r\n    #UNs {\r\n        width: 100%;\r\n        height: 100%;\r\n        position: relative;\r\n        text-align: center;\r\n    }\r\n\r\n    .chat_content {\r\n        display: inline-block;\r\n        margin-top: 70px;\r\n    }\r\n\r\n    .bg {\r\n        /* background-image: url(../static/images/starry.png); */\r\n        background-size: 100% 90%;\r\n        background-position: 20px 20px;\r\n        background-repeat: no-repeat;\r\n    }\r\n\r\n    .tooltip {\r\n        background-image: url(../static/images/frame_3.png);\r\n        background-size: 100% 100%;\r\n        font-size: 1.8rem;\r\n        text-align: left;\r\n        padding: 20px;\r\n        margin: 0;\r\n        opacity: 0.8;\r\n        line-height: 50px;\r\n\r\n    }\r\n\r\n    #title {\r\n        position: absolute;\r\n        height: 12px;\r\n        bottom: 45px;\r\n        font-size: 1.5rem;\r\n        color: #FFFFFF;\r\n        line-height: 25px;\r\n        left: 60px;\r\n    }\r\n\r\n    .i {\r\n        min-width: 107.5px;\r\n        height: 12px;\r\n        text-align: center;\r\n        line-height: 12px;\r\n        margin-right: 5px;\r\n        float: left;\r\n    }\r\n\r\n    #i {\r\n        min-width: 32px;\r\n        height: 12px;\r\n        line-height: 12px;\r\n        float: left;\r\n    }\r\n\r\n    #legend {\r\n        width: 1800px;\r\n        height: 900px;\r\n        display: inline-block;\r\n        background-image: url(../assets/texiao.png), url(../static/images/frame.png), url(../assets/texiao.png), url(../static/images/frame_2.png);\r\n        background-position: 0px -20px, left 0px, 91% -20px, right 0px;\r\n        background-size: 40%, 45% 87%, 40%, 45% 87%;\r\n        background-repeat: no-repeat;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Un.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Un.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Un.vue?vue&type=template&id=cac31cd2&\"\nimport script from \"./Un.vue?vue&type=script&lang=js&\"\nexport * from \"./Un.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Un.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <div class=\"left\">\r\n            <div class=\"lt\">\r\n                <Comp type=\"dma\" v-loading=\"$store.state.init.dmaltView\" element-loading-spinner=\"el-icon-loading\"\r\n                      element-loading-background=\"rgba(15,21,47,0)\" element-loading-text=\"拼命加载中\" Cstyle=\"20%\"\r\n                      :val=\"$store.state.data.dmaLbViewData\"\r\n                      ref=\"comp\" :icon=\"icon[3]\" title=\"DMA综合漏损指数\"></Comp>\r\n            </div>\r\n            <div class=\"lb\">\r\n                <lbView valRight=\"10px\" fontStyle=\"right\" titleRight=\"15px\" :space=\"15\" right=\"10px\"\r\n                        :val=\"$store.state.data.ViewData\" :label=\"dmaLabel\"\r\n                        :labellength=\"6\" :valLenght=\"8\" :icon=\"icon[0]\" title=\"DMA关键漏损指标\"></lbView>\r\n            </div>\r\n        </div>\r\n        <div class=\"mid\">\r\n            <div class=\"mt\" ref=\"mt\">\r\n                <UnView ref='dmaMap'></UnView>\r\n                <div style=\"position: absolute; bottom: 113px; right: 100px; cursor: pointer;\" @click=\"test\">\r\n                    <img style=\"width: 50px;height: 50px;\" src=\"../static/images/qp.png\"></img>\r\n                </div>\r\n            </div>\r\n            <div class=\"mb\">\r\n                <cbView v-loading=\"$store.state.init.cbView\" element-loading-spinner=\"el-icon-loading\"\r\n                        element-loading-background=\"rgba(15,21,47,0)\"\r\n                        element-loading-text=\"拼命加载中\" ref=\"cbView\"></cbView>\r\n            </div>\r\n        </div>\r\n        <div class=\"right\">\r\n            <div class=\"rt\">\r\n                <rtView style=\"width: 100%;height: 100%;\" :val=\"$store.state.data.sc\" :icon=\"icon[1]\"\r\n                        title=\"学校基本信息\"></rtView>\r\n            </div>\r\n            <div class=\"rb\">\r\n                <lbView fristTitleLeft=\"10px\" fontStyle=\"left\" top=\"60px\" left=\"30px\" :space=\"50\"\r\n                        :val=\"$store.state.data.indicator\"\r\n                        :label=\"ztLabel\" :labellength=\"8\" :valLenght=\"5\" :icon=\"icon[2]\" title=\"总体用水指标\"></lbView>\r\n            </div>\r\n        </div>\r\n        <div style=\"width: 200vw; height: 100%; background-color: #0F152F; position: absolute;\" v-show=\"isSc\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import lbView from '@/components/lbView.vue'\r\n    import rtView from '@/components/rtView.vue'\r\n    import cbView from '@/components/cbView.vue'\r\n    import Comp from '@/components/Comp.vue'\r\n    import UnView from '@/components/Un.vue'\r\n    import {\r\n        request\r\n    } from '../api/request.js'\r\n\r\n    const util = require(\"../util/util.js\")\r\n    export default {\r\n        name: 'Home',\r\n        components: {\r\n            lbView,\r\n            rtView,\r\n            cbView,\r\n            Comp,\r\n            UnView,\r\n        },\r\n        data() {\r\n            return {\r\n                isSc: false,\r\n                icon: [\r\n                    require(\"../assets/Lower-left-icon.png\"),\r\n                    require(\"../assets/RU_icon.png\"),\r\n                    require(\"../assets/low-right_icon.png\"),\r\n                    require(\"../assets/uplefticon.png\")\r\n                ],\r\n\r\n                dmaLabel: [{\r\n                    text: \"DMA\",\r\n                    aLine: true,\r\n                    wid: 5\r\n                },\r\n                    {\r\n                        text: \"日用量隔周增量\",\r\n                        //aLine: true,\r\n                        wid: 8\r\n                    },\r\n                    {\r\n                        text: \"最小量隔周增量\",\r\n                        //aLine: true,\r\n                        wid: 8\r\n                    },\r\n                ],\r\n\r\n                ztLabel: [{\r\n                    text: \"指标\",\r\n                    aLine: true,\r\n                    wid: 8\r\n                },\r\n                    {\r\n                        text: \"全校区\",\r\n                        aLine: true,\r\n                        wid: 5\r\n                    },\r\n                    {\r\n                        text: \"武昌区\",\r\n                        aLine: true,\r\n                        wid: 5\r\n                    },\r\n                    {\r\n                        text: \"流芳区\",\r\n                        aLine: true,\r\n                        wid: 5\r\n                    },\r\n                ],\r\n\r\n            }\r\n        },\r\n\r\n\r\n        mounted() {\r\n            if (this.$store.state.init.cbView) {\r\n                this.getData()\r\n            }\r\n\r\n            if (this.$store.state.init.dmaMapView || this.$store.state.init.dmaltView) {\r\n                this.qyData()\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            getData: function () {\r\n                var that = this\r\n                var y = new Date().getFullYear()\r\n                request(\"leakagelndex\", \"waterregionWaterquotaList\", {\r\n                    waterregionid: 1,\r\n                    quotayear: y\r\n                }, function (res) {\r\n                    var des = [] //每月用水定额\r\n                    for (let m = 1; m <= 12; m++) {\r\n                        var index = \"m\" + m\r\n                        des.push((res.data.data[0][index]).toFixed(1))\r\n                    }\r\n\r\n                    request(\"leakagelndex\", \"getMwater\", {\r\n                        yy: y,\r\n                        id: 1\r\n                    }, (res2) => {\r\n                        var ysls = [] //每月用水量\r\n                        var jsls = [] //每月节水量\r\n                        for (let i = 0; i < res2.data.data.list.length - 1; i++) {\r\n                            ysls.push((res2.data.data.list[i].data).toFixed(1))\r\n                            jsls.push((des[i] - res2.data.data.list[i].data).toFixed(1))\r\n                        }\r\n\r\n                        //计算组件title相关数据\r\n                        var bnde = 0 //本年定额\r\n                        var ylj = 0 //已累计\r\n                        var yyjs = 0 //已用节水\r\n                        var mqde = 0 //目前定额\r\n                        for (let i = 0; i < des.length; i++) {\r\n                            bnde += parseFloat(des[i])\r\n                        }\r\n\r\n                        for (let i = 0; i < ysls.length; i++) {\r\n                            ylj += parseFloat(ysls[i])\r\n                            yyjs += parseFloat(jsls[i])\r\n                            mqde += parseFloat(des[i])\r\n                        }\r\n\r\n                        var yyjsl = ((mqde - ylj) / mqde / 0.01).toFixed(1) //已用节水率\r\n                        bnde = bnde.toFixed(1)\r\n                        ylj = ylj.toFixed(1)\r\n                        yyjs = yyjs.toFixed(1)\r\n\r\n                        //提交数据\r\n                        that.$store.commit('setData', {\r\n                            de: des,\r\n                            ysl: ysls,\r\n                            jsl: jsls,\r\n                            bnde: bnde,\r\n                            ylj: ylj,\r\n                            yyjs: yyjs,\r\n                            yyjsl: yyjsl,\r\n                            success: function () {\r\n                                that.$refs.cbView.init()\r\n                                //that.$store.state.init.cbView = false\r\n                                that.$store.commit('setViewState', 'cbView')\r\n                                console.log(\"条形统计图初始化完成\")\r\n                            }\r\n                        });\r\n                    })\r\n                })\r\n            },\r\n\r\n            //区域综合漏损指数 A01-A15\r\n            qyData: function () {\r\n                var time = util.getYesFormatDay()\r\n                var that = this\r\n                that.$store.state.data.qyMapData = []\r\n                var map = this.$refs.dmaMap\r\n                var colors = ['#226E4B', '#34A471', '#9ADFBF', '#BBEAD5', '#DDF4EA', '#FFFFFF', '#FDD1C5', '#FCA290',\r\n                    '#FD8376', '#FB5934', '#F81F02', '#CB1B03', '#961301', '#7A3129', '#000000']\r\n\r\n                request(\"leakagelndex\", \"getColor\", {\r\n                    category: 70\r\n                }, function (res) {\r\n                    var qjarr = []\r\n                    for (let i = 1; i <= 14; i++) {\r\n                        qjarr.push(res.data.data[0][\"range\" + i])\r\n                    }\r\n                    that.$store.state.data.skData = qjarr\r\n                    for (let i = 53; i <= 67; i++) {\r\n                        request(\"leakagelndex\", \"area\", {\r\n                            waterregionid: i,\r\n                            time: time\r\n                        }, function (res) {\r\n                            var data = res.data.data\r\n                            var color = \"\"\r\n                            var val = data.leakageIndex\r\n                            if (val <= qjarr[0]) {\r\n                                color = colors[0]\r\n                            } else if (val > qjarr[0] && val <= qjarr[1]) {\r\n                                color = colors[1]\r\n                            } else if (val > qjarr[1] && val <= qjarr[2]) {\r\n                                color = colors[2]\r\n                            } else if (val > qjarr[2] && val <= qjarr[3]) {\r\n                                color = colors[3]\r\n                            } else if (val > qjarr[3] && val <= qjarr[4]) {\r\n                                color = colors[4]\r\n                            } else if (val > qjarr[4] && val <= qjarr[5]) {\r\n                                color = colors[5]\r\n                            } else if (val > qjarr[5] && val <= qjarr[6]) {\r\n                                color = colors[6]\r\n                            } else if (val > qjarr[6] && val <= qjarr[7]) {\r\n                                color = colors[7]\r\n                            } else if (val > qjarr[7] && val <= qjarr[8]) {\r\n                                color = colors[8]\r\n                            } else if (val > qjarr[8] && val <= qjarr[9]) {\r\n                                color = colors[9]\r\n                            } else if (val > qjarr[9] && val <= qjarr[10]) {\r\n                                color = colors[10]\r\n                            } else if (val > qjarr[10] && val <= qjarr[11]) {\r\n                                color = colors[11]\r\n                            } else if (val > qjarr[11] && val <= qjarr[12]) {\r\n                                color = colors[12]\r\n                            } else if (val > qjarr[12] && val <= qjarr[13]) {\r\n                                color = colors[13]\r\n                            } else if (val > qjarr[13]) {\r\n                                color = colors[14]\r\n                            }\r\n                            data.itemStyle = {\r\n                                emphasis: {\r\n                                    areaColor: color,\r\n                                }\r\n                            }\r\n                            that.$store.state.data.qyMapData.push(data)\r\n                            map.setData()\r\n                            if (that.$store.state.data.qyMapData.length == 15) {\r\n                                //that.$store.state.init.dmaMapView = false\r\n                                that.$store.commit('setViewState', 'dmaMapView')\r\n                                console.log(\"dma地图初始化完成\")\r\n                                //排序，得到前十dma相关数据\r\n                                //-------------------------柱状图部分-------------------------------\r\n                                var arr = that.$store.state.data.qyMapData\r\n\r\n                                for (let i = 0, len = arr.length; i < len; i++) {\r\n                                    if (!arr[i] || arr[i] == '' || arr[i] === undefined) {\r\n                                        arr.splice(i, 1)\r\n                                        len--;\r\n                                        i--;\r\n                                    }\r\n                                }\r\n\r\n                                arr.sort(function (a, b) {\r\n                                    return b.leakageIndex - a.leakageIndex\r\n                                })\r\n                                //arr.splice(10,arr.length)\r\n                                //获取前十名称\r\n                                var names = []\r\n                                //获取前十的原始数据\r\n                                var val = []\r\n                                //将数据全部换算成整数\r\n                                var tranArr = []\r\n                                for (let a = 0; a < 10; a++) {\r\n                                    tranArr.push(parseInt(arr[a].leakageIndex - arr[9].leakageIndex) + 30) //设置一个最小值，防止第十名没有填充\r\n                                    names.push(arr[a].name)\r\n                                    val.push((arr[a].leakageIndex).toFixed(1))\r\n                                }\r\n                                var len = tranArr[0].toString().length\r\n                                var num = \"1\"\r\n                                for (let j = 0; j < len - 1; j++) {\r\n                                    num += \"0\"\r\n                                }\r\n                                num = parseInt(num)\r\n\r\n                                var max = Math.ceil(tranArr[0] / num) * num + num\r\n                                var max_ = []\r\n                                var margin = []\r\n                                for (let b = 0; b < 10; b++) {\r\n                                    max_[b] = max\r\n                                    margin[b] = max / 10\r\n                                }\r\n\r\n                                that.$store.commit('setDmaPaiHangData', {\r\n                                    tranArr: tranArr,\r\n                                    val: val,\r\n                                    names: names,\r\n                                    max_: max_,\r\n                                    margin: margin,\r\n                                    success: function () {\r\n                                        that.$refs.comp.setData()\r\n                                        //that.$store.state.init.dmaltView = false\r\n                                        that.$store.commit('setViewState', 'dmaltView')\r\n                                        console.log(\"dma柱状图初始化完成\")\r\n                                    }\r\n                                })\r\n                                //-------------------------柱状图部分完成-------------------------------\r\n                                //-------------------------DMA关键漏损指标------------------------------\r\n                                var LbViewData = []\r\n                                for (let c = 0; c < 10; c++) {\r\n                                    LbViewData[c] = {\r\n                                        label: arr[c].name,\r\n                                        data: [arr[c].addTotal.toFixed(1), arr[c].addMin.toFixed(1)]\r\n                                    }\r\n                                }\r\n                                that.$store.state.data.ViewData = LbViewData\r\n                                //-------------------------DMA关键漏损指标完成------------------------------\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n\r\n\r\n            },\r\n\r\n            //全屏\r\n            test() {\r\n                var dom = this.$refs.mt\r\n                if (!this.$data.isSc) {\r\n                    dom.style.transform = \"translate(0,300px) scale(1.5,1.5)\"\r\n                    dom.style.zIndex = 999\r\n                } else {\r\n                    dom.style.transform = \"translate(0,0px) scale(1,1)\"\r\n                    dom.style.zIndex = 1\r\n                }\r\n                this.$data.isSc = !this.$data.isSc\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\n    .left {\r\n        float: left;\r\n        height: 100%;\r\n        width: 790px;\r\n    }\r\n\r\n    .mid {\r\n        float: left;\r\n        height: 100%;\r\n        width: 2150px;\r\n    }\r\n\r\n    .right {\r\n        float: left;\r\n        height: 100%;\r\n        width: 820px;\r\n    }\r\n\r\n    .lt {\r\n        height: 842px;\r\n        width: 100%;\r\n        padding-top: 80px;\r\n        background-image: url(../assets/imgs/zs2.png);\r\n        background-size: 95% 96%;\r\n        background-position: 14px 30px;\r\n        background-repeat: no-repeat;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .lb {\r\n        height: 1102px;\r\n        width: 100%;\r\n        background-image: url(../assets/imgs/zx2.png);\r\n        background-size: 96% 98%;\r\n        background-position: 10px 18px;\r\n        background-repeat: no-repeat;\r\n        box-sizing: border-box;\r\n        padding-right: 60px;\r\n        padding-left: 30px;\r\n        padding-top: 80px;\r\n\r\n    }\r\n\r\n    .mt {\r\n        width: 100%;\r\n        height: 1106px;\r\n        background-image: url(../assets/imgs/midt.png);\r\n        background-repeat: no-repeat;\r\n        background-size: 100% 97%;\r\n        background-position: 5px 30px;\r\n        transition: 1s;\r\n        position: relative;\r\n    }\r\n\r\n    .mb {\r\n        width: 100%;\r\n        height: 865px;\r\n        background-image: url(../assets/imgs/midb.png);\r\n        background-repeat: no-repeat;\r\n        background-size: 100% 95%;\r\n        background-position: 6px 9px;\r\n        box-sizing: border-box;\r\n        padding-top: 100px;\r\n    }\r\n\r\n    .rt {\r\n        width: 100%;\r\n        height: 765px;\r\n        background-image: url(../assets/imgs/zuoshang.png);\r\n        background-size: 101% 98%;\r\n        background-repeat: no-repeat;\r\n        background-position: 31px 11px;\r\n        box-sizing: border-box;\r\n        padding-top: 30px;\r\n    }\r\n\r\n    .rb {\r\n        width: 100%;\r\n        height: 1203px;\r\n        background-image: url(../assets/imgs/zuoxia.png);\r\n        background-size: 102% 96.7%;\r\n        background-repeat: no-repeat;\r\n        background-position: 24px 11px;\r\n        box-sizing: border-box;\r\n        padding-left: 70px;\r\n        padding-top: 90px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DMA.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DMA.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DMA.vue?vue&type=template&id=a1a185c0&scoped=true&\"\nimport script from \"./DMA.vue?vue&type=script&lang=js&\"\nexport * from \"./DMA.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DMA.vue?vue&type=style&index=0&id=a1a185c0&scoped=scoped&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a1a185c0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DMA.vue?vue&type=style&index=0&id=a1a185c0&scoped=scoped&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DMA.vue?vue&type=style&index=0&id=a1a185c0&scoped=scoped&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Un.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Un.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}